ğŸ“š ç›®å½•ï¼ˆTable of Contentsï¼‰

ğŸš€ ä¸€ã€YAML é…ç½®ï¼ˆapplication.ymlï¼‰

âš™ï¸ äºŒã€RedisTemplate é…ç½®ç±»

ğŸ§ª ä¸‰ã€Spring Boot æµ‹è¯•ç±»

ğŸ”Œ 1. æ³¨å…¥ RedisTemplate

ğŸ“¦ 2. è·å– Redis äº”ç§æ•°æ®ç»“æ„æ“ä½œå¯¹è±¡

ğŸ“ å››ã€Redis å­—ç¬¦ä¸²ï¼ˆStringï¼‰æ“ä½œç¤ºä¾‹

ğŸ”‘ äº”ã€Redis å“ˆå¸Œï¼ˆHashï¼‰æ“ä½œç¤ºä¾‹

#ğŸš€ ä¸€ã€YAML é…ç½®ï¼ˆapplication.ymlï¼‰
spring:
  redis:
    host: 127.0.0.1
    port: 6379
    password: "123456"
    database: 10

redis:
  host: ${spring.redis.host}
  port: ${spring.redis.port}
  password: ${spring.redis.password}
  database: ${spring.redis.database}

#âš™ï¸ äºŒã€RedisTemplate é…ç½®ç±»
@Configuration
@Slf4j
public class RedisConfiguration {

    @Bean
    public RedisTemplate redisTemplate(RedisConnectionFactory redisConnectionFactory) {
        log.info("å¼€å§‹åˆ›å»ºredisæ¨¡æ¿å¯¹è±¡...");
        RedisTemplate redisTemplate = new RedisTemplate();
        
        redisTemplate.setConnectionFactory(redisConnectionFactory);
        redisTemplate.setKeySerializer(new StringRedisSerializer());
        
        return redisTemplate;
    }
}

#ğŸ§ª ä¸‰ã€Spring Boot æµ‹è¯•ç±»
ğŸ”Œ 1. æ³¨å…¥ RedisTemplate
@SpringBootTest
public class SpringDataRedisTest {

    @Autowired
    private RedisTemplate redisTemplate;

ğŸ“¦ 2. è·å– Redis äº”ç§æ•°æ®ç»“æ„æ“ä½œå¯¹è±¡
@Test
public void testRedisTemplate() {
    System.out.println(redisTemplate);

    ValueOperations valueOperations = redisTemplate.opsForValue();
    HashOperations hashOperations = redisTemplate.opsForHash();
    ListOperations listOperations = redisTemplate.opsForList();
    SetOperations setOperations = redisTemplate.opsForSet();
    ZSetOperations zSetOperations = redisTemplate.opsForZSet();
}

#ğŸ“ å››ã€Redis å­—ç¬¦ä¸²ï¼ˆStringï¼‰æ“ä½œç¤ºä¾‹
@Test
public void testString() {
    redisTemplate.opsForValue().set("city","åŒ—äº¬");
    String city = (String) redisTemplate.opsForValue().get("city");
    System.out.println(city);

    redisTemplate.opsForValue().set("code", "1234", 3, TimeUnit.MINUTES);

    redisTemplate.opsForValue().setIfAbsent("lock","1");
    redisTemplate.opsForValue().setIfAbsent("lock","2");
}

#ğŸ”‘ äº”ã€Redis å“ˆå¸Œï¼ˆHashï¼‰æ“ä½œç¤ºä¾‹
@Test
public void testhash(){
    HashOperations hashOperations = redisTemplate.opsForHash();

    hashOperations.put("001","name","å¼ ä¸‰");
    hashOperations.put("001","age","23");

    String name = (String) hashOperations.get("001", "name");
    System.out.println(name);
}

